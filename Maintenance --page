apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: maintenance-override
  namespace: dev-istio-system
spec:
  hosts:
    - dev.epay.sbi
  gateways:
    - dev-istio-system/epay-dev-gateway
  http:
    - name: "redirect-to-maintenance-route"
      match:
        - uri:
            regex: ".*"          # Match all paths, with or without slashes
      redirect:
        scheme: https
        authority: maintenance-dev-frontend.apps.dev.sbiepay.sbi  # External OCP route
        uri: /maintenance/       # Target path
        redirectCode: 302
