{
  "dashboard": {
    "id": null,
    "uid": "loki-cluster-overview",
    "title": "Loki HA - Cluster Overview",
    "schemaVersion": 30,
    "version": 1,
    "refresh": "30s",
    "time": { "from": "now-1h", "to": "now" },
    "panels": [
      { "id": 1, "title": "Node Comparison - Bytes Received (Node1 vs Node2)", "type": "timeseries", "datasource": "Prometheus-Node1", "targets": [ { "expr": "sum(rate(loki_distributor_received_bytes_total{instance=~\".*:9090\"}[1m]))", "legendFormat": "Node1", "refId": "A" }, { "expr": "sum(rate(loki_distributor_received_bytes_total{instance=~\".*:9091\"}[1m]))", "legendFormat": "Node2", "refId": "B" } ] },
      { "id": 2, "title": "Node Comparison - Query Rate", "type": "timeseries", "datasource": "Prometheus-Node1", "targets": [ { "expr": "sum(rate(loki_query_frontend_queries_total{instance=~\".*:9090\"}[1m]))", "legendFormat": "Node1", "refId": "A" }, { "expr": "sum(rate(loki_query_frontend_queries_total{instance=~\".*:9091\"}[1m]))", "legendFormat": "Node2", "refId": "B" } ] },
      { "id": 3, "title": "Ring Status by Node", "type": "timeseries", "datasource": "Prometheus-Node1", "targets": [ { "expr": "loki_ring_members{instance=~\".*:9090\"}", "legendFormat": "Node1", "refId": "A" }, { "expr": "loki_ring_members{instance=~\".*:9091\"}", "legendFormat": "Node2", "refId": "B" } ] },
      { "id": 4, "title": "Memory Chunks by Node", "type": "timeseries", "datasource": "Prometheus-Node1", "targets": [ { "expr": "loki_ingester_memory_chunks{instance=~\".*:9090\"}", "legendFormat": "Node1", "refId": "A" }, { "expr": "loki_ingester_memory_chunks{instance=~\".*:9091\"}", "legendFormat": "Node2", "refId": "B" } ] },
      { "id": 5, "title": "Compaction Runs by Node", "type": "timeseries", "datasource": "Prometheus-Node1", "targets": [ { "expr": "rate(loki_compactor_compaction_runs_total{instance=~\".*:9090\"}[5m])", "legendFormat": "Node1", "refId": "A" }, { "expr": "rate(loki_compactor_compaction_runs_total{instance=~\".*:9091\"}[5m])", "legendFormat": "Node2", "refId": "B" } ] },
      { "id": 6, "title": "Error Rate by Node", "type": "timeseries", "datasource": "Prometheus-Node1", "targets": [ { "expr": "sum by (instance) (rate(loki_distributor_errors_total[1m]))", "refId": "A" } ] }
    ]
  },
  "overwrite": true
}
